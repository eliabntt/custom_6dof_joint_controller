<launch>
    <arg name="namespace" value="my_robot_0"/>
    <arg name="box_max_x" default="5000"/>
    <arg name="box_max_y" default="5000"/>
    <arg name="box_max_z" default="5000"/>
    <arg name="robot_id" default="0"/>
    <!-- use "world" to not convert velocities of the setpoint. Else, it will use odom orientation -->
    <arg name="frame_id" default="world"/>


    <node name="custom_joint_controller_ros" pkg="custom_joint_controller_ros"
          type="custom_joint_controller_ros_node"
          respawn="true" clear_params="true" output="screen">
        <rosparam file="$(find custom_joint_controller_ros)/config/config_drone.yaml" if="$(eval arg('robot_id') ==0)"/>
        <param name="odom" value="/$(arg namespace)/odom" if="$(eval arg('robot_id') ==0)"/>

        <rosparam file="$(find custom_joint_controller_ros)/config/config_irotate.yaml"
                  if="$(eval arg('robot_id') ==1)"/>
        <param name="odom" value="/odometry/filtered" if="$(eval arg('robot_id') ==1)"/>
        <param name="odomCam" value="/camera/odometry/filtered" if="$(eval arg('robot_id') ==1)"/>

        <param name="setpoint" value="/$(arg namespace)/full_predicted_state"/>
        <param name="joint_command" value="/$(arg namespace)/joint_commands"/>

        <param name="position_limit_x" value="$(arg position_limit_x)"/>
        <param name="position_limit_y" value="$(arg position_limit_y)"/>
        <param name="position_limit_z" value="$(arg position_limit_z)"/>
        <param name="robot_id" type="int" value="$(arg robot_id)"/>
        <param name="frame_id" value="$(arg frame_id)"/>
    </node>
</launch>